# ALQuery3D Web界面使用说明

## 概述
ALQuery3D提供现代化的Web界面，支持高维embeddings生成和3D可视化。Web界面具有响应式设计，可在任何浏览器中运行，提供专业的科研工具体验。

## 启动方式

### 1. 安装依赖
```bash
pip install Flask plotly
```

### 2. 启动Web应用
```bash
python run_web.py
```

### 3. 访问界面
在浏览器中打开：
- `http://localhost:5000` (本地访问)
- `http://0.0.0.0:5000` (网络访问)

## 界面功能

### 🎨 深色主题设计
- 现代化的深色界面，护眼且美观
- 响应式布局，适配不同屏幕尺寸
- 流畅的动画效果和交互反馈

### 🔧 核心功能

#### 1. 类别配置
- **下拉选择**: 支持1-10个类别
- **动态生成**: 选择后自动生成对应数量的参数块

#### 2. 参数控制
配置参数：
- **Embedding Dimension**: 维度设置 (3-2048)
- **Number of Classes**: 类别数量 (1-10)

每个类别独立设置：
- **Samples**: 样本数量 (10-5000)
- **Dispersion**: 分散度 (0.0-1.0)
- **Curvature**: 曲度 (0.0-1.0)
- **Flatness**: 扁平度 (0.0-1.0)
- **Correlation**: 类内相关性 (0.0-1.0)

全局参数：
- **Inter-class Distance**: 类间距离 (0.0-1.0)

#### 3. 输入方式
- **数值输入框**: 精确输入，支持小数
- **滑块控制**: 直观调节
- **实时联动**: 输入框和滑块双向同步

#### 4. 降维方法
- **PCA**: 主成分分析
- **t-SNE**: t-分布随机邻域嵌入
- **UMAP**: 统一流形逼近与投影
- **实时切换**: 生成数据后可切换不同方法

#### 5. 3D可视化
- **Plotly图表**: 高质量交互式3D散点图
- **鼠标操作**: 旋转、缩放、平移
- **颜色区分**: 不同类别使用不同颜色
- **悬停信息**: 显示详细的点信息

## 使用流程

### 步骤1: 配置类别
1. 选择类别数量（1-10个）
2. 系统自动生成对应的参数控制块

### 步骤2: 设置参数
1. 为每个类别设置参数：
   - 直接在输入框中输入数值
   - 或使用滑块进行调节
2. 设置全局的类间距离参数

### 步骤3: 选择降维方法
- 点击PCA、t-SNE或UMAP按钮
- 默认使用PCA方法

### 步骤4: 生成数据
1. 点击"Generate Embeddings"按钮
2. 等待后台处理（显示加载动画）
3. 查看右侧3D可视化结果

### 步骤5: 交互探索
- 使用鼠标操作3D图：
  - **左键拖拽**: 旋转视角
  - **滚轮**: 缩放
  - **悬停**: 查看点信息
- 切换不同降维方法对比效果
- 查看统计信息面板

## 技术特点

### 前端技术
- **HTML5 + CSS3**: 现代化界面设计
- **JavaScript**: 交互逻辑和API调用
- **Plotly.js**: 高性能3D可视化

### 后端技术
- **Flask**: 轻量级Web框架
- **RESTful API**: 标准化接口设计
- **异步处理**: 后台生成数据，不阻塞界面

### 数据处理
- **高维生成**: 3-2048维embedding
- **智能降维**: 3维数据直接显示，高维数据自动降维
- **多种降维**: PCA/t-SNE/UMAP支持
- **缓存机制**: HDF5缓存提升性能
- **数据标准化**: 自动标准化到-1~1范围
- **实时统计**: 样本数、类别数、维度信息

## 技术优势

### Web界面特点
| 特性 | 优势 |
|------|------|
| 部署环境 | ✅ 无需图形界面，适合服务器环境 |
| 远程访问 | ✅ 浏览器访问，支持多用户 |
| 跨平台 | ✅ 任何现代浏览器都可运行 |
| 3D交互 | ✅ Plotly高质量交互式图表 |
| 响应式 | ✅ 自适应布局，支持不同屏幕 |
| 安装简单 | ✅ 仅需Flask/Plotly等Web库 |
| 性能优化 | ✅ HDF5缓存，智能降维处理 |

## 故障排除

### 常见问题
1. **端口被占用**: 修改app.py中的端口号
2. **依赖缺失**: 运行`pip install -r requirements.txt`
3. **网络访问**: 确保防火墙允许5000端口
4. **浏览器兼容**: 推荐使用Chrome/Firefox最新版本

### 性能优化
- 大数据集建议减少样本数量
- t-SNE和UMAP计算较慢，耐心等待
- 关闭浏览器其他标签页释放内存

## 扩展功能

### 未来可能的增强
- 数据导出功能（CSV/JSON）
- 参数预设保存/加载
- 批量生成和对比
- 更多可视化选项
- 实时参数调节预览

---

**总结**: ALQuery3D Web界面提供了完整的高维embeddings生成和可视化功能，具有现代化的设计和优秀的用户体验，是进行主动学习研究的理想工具！ 